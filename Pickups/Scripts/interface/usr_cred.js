Ext.onReady(function(){var e=Ext.getCmp("challenge_frm");Ext.get("usr_cred").on("click",function(){e||new Ext.Window({id:"challenge_frm",title:"ID CHALLENGE",height:150,width:300,closable:!0,resizable:!1,defaults:{xtype:"form",frame:!0,border:!0},items:[{id:"pwdfrm",defaults:{xtype:"textfield",allowBlank:!1,anchor:"100%"},items:[{id:"usrname",fieldLabel:"User name",listeners:{afterrender:function(){$("#usrname").attr("readonly",!0)}}},{id:"usrpwd",fieldLabel:"Password",inputType:"password"}],listeners:{afterrender:function(){$.getJSON("/Helper/getUserName",{},function(e){Ext.getCmp("usrname").setValue(e.msg.toString()),$("#usrpwd").focus()})}},buttons:[{text:"Save",handler:function(){var e=Ext.getCmp("pwdfrm").getForm();e.isValid()&&$.post("/User/resetPwdByUsername",{usr:Ext.fly("usrname").getValue(),resetPwd:Ext.fly("usrpwd").getValue()},function(e){console.log(e.toString()),Ext.Msg.show("true"==e.status.toString()?{title:"PASSWORD RESET",msg:e.msg.toString(),buttons:Ext.Msg.OK,animEl:"elId",icon:Ext.MessageBox.INFO}:{title:"PASSWORD RESET ERROR",msg:"An error occured while resetting password. Please contact System Administrator",buttons:Ext.Msg.OK,animEl:"elId",icon:Ext.MessageBox.ERROR})},"json")}}]}]}).show()})});